<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
<div id="app"></div>

<script>
// Ce code JSON pourrait venir d'une API 
const products = [
    { id: 1, name: "Produit 1", price: 10 },
    { id: 2, name: "Produit 2", price: 10},
    { id: 3, name: "Produit 3", price: 10},
];

function catalogTemplate (catalog) {
    return `
      <h1> Mon catalogue  </h1>

      <ul>
        ${catalog.products.map((product) => product.render()).join(" ")}
      </ul>  
    `;  
}

function productTemplate (product) {
    return `
    <li class="product">${product.name}: ${product.price} â‚¬  </li> 
    `;  
}

class Product { 
    constructor(data)  {
    this.id = data.id;
    this.name = data.name;
    this.price = data.price;
    }
    render () {
        return productTemplate(this);
    }
}


class Catalog {
    constructor (data) {
        this.products = data.products.map((product) => new Product(product));
        this.domElt = document.querySelector(data.elt);
        this.render();
    }

    render () {
   
        this.domElt.innerHTML = catalogTemplate(this);
        
    } 
}
new Catalog({
    elt : "#app",
    products,
});


</script>
</body>
</html>